# ────────────────────────────────────────────────────────────────
# IrDnl Backend — Environment Variables Template
# Copy this file to .env.local and fill in the values.
#   cp .env.example .env.local
# ────────────────────────────────────────────────────────────────

# ─── Core ───────────────────────────────────────────────────────
NODE_ENV=development
PORT=3001
API_PREFIX=api

# ─── Database (PostgreSQL) ──────────────────────────────────────
# Option A: connection URL (takes precedence)
# DATABASE_URL=postgresql://user:password@host:5432/irdnl_db
# Option B: individual fields
DB_HOST=localhost
DB_PORT=5432
DB_USERNAME=irdnl
DB_PASSWORD=irdnl123
DB_DATABASE=irdnl_db

# ─── Redis ──────────────────────────────────────────────────────
# Option A: connection URL (Heroku sets this automatically)
# REDIS_URL=redis://localhost:6379
# Option B: individual fields
REDIS_HOST=localhost
REDIS_PORT=6379

# ─── JWT Authentication ────────────────────────────────────────
JWT_SECRET=dev-jwt-secret-key-min-32-characters-long
JWT_EXPIRES_IN=15m
JWT_REFRESH_SECRET=dev-refresh-secret-key-min-32-characters-long
JWT_REFRESH_EXPIRES_IN=7d

# ─── CORS / Frontend ───────────────────────────────────────────
FRONTEND_URL=http://localhost:3000

# ─── File Storage ───────────────────────────────────────────────
# "local" for development, "s3" for DigitalOcean Spaces in production
STORAGE_TYPE=local
STORAGE_LOCAL_PATH=./storage

# DigitalOcean Spaces (only needed when STORAGE_TYPE=s3)
# DO_SPACES_KEY=
# DO_SPACES_SECRET=
# DO_SPACES_BUCKET=irdnl-storage
# DO_SPACES_REGION=sgp1
# DO_SPACES_ENDPOINT=https://sgp1.digitaloceanspaces.com
# DO_SPACES_CDN_ENDPOINT=https://irdnl-storage.sgp1.cdn.digitaloceanspaces.com

# ─── Signed URLs ───────────────────────────────────────────────
SIGNED_URL_SECRET=dev-signed-url-secret-min-32-characters
SIGNED_URL_TTL=3600

# ─── Elasticsearch ─────────────────────────────────────────────
ELASTICSEARCH_NODE=http://localhost:9200
ELASTICSEARCH_INDEX_PREFIX=irdnl

# ─── Rate Limiting ─────────────────────────────────────────────
THROTTLE_TTL=60
THROTTLE_LIMIT=100
CACHE_TTL=300

# ─── Azure Functions (optional) ────────────────────────────────
# AZURE_FUNCTIONS_URL=https://irdnl-functions.azurewebsites.net/api
# AZURE_FUNCTIONS_KEY=

# ─── Monitoring (optional) ─────────────────────────────────────
# SENTRY_DSN=
# DD_API_KEY=
# DD_SERVICE=irdnl-api
# DD_ENV=development

# ─── TMDB ──────────────────────────────────────────────────────
# TMDB_API_KEY=
# TMDB_BASE_URL=https://api.themoviedb.org/3

# ─── Google OAuth (optional) ───────────────────────────────────
# GOOGLE_CLIENT_ID=
# GOOGLE_CLIENT_SECRET=
# GOOGLE_CALLBACK_URL=http://localhost:3001/api/auth/google/callback
